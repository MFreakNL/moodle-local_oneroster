{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more comments.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
<div class="row">
    <div class="col-md-5">
        <label for="districts" class="control-label">{{#str}}gg4lschools, local_oneroster{{/str}} (<span id="numberofdistricts">{{numberofdistricts}}</span>)</label>
        <select name="districts" id="multiselect-districs" class="form-control" size="10" autocomplete="off">
            {{#districts}}
                <option value="{{id}}" {{#selected}}selected="selected"{{/selected}}>{{name}}</option>
            {{/districts}}
        </select>
    </div>
    <div class="col-md-5">
        <label for="schools" class="control-label">{{districtname}} {{#str}}schools, local_oneroster{{/str}} (<span id="numberofschools">{{numberofschools}}</span>)</label>
        <select name="schools" id="multiselect-schools" class="form-control" size="10" autocomplete="off">
            {{#schools}}
                <option value="{{id}}" {{#selected}}selected="selected"{{/selected}} data-categoryid="{{categoryid}}">{{name}}</option>
            {{/schools}}
        </select>
    </div>
</div>
<div class="row mt-3">
    <div class="col-md-5 offset-md-5">
        <button type="button" id="btn-create-school" class="btn btn-primary">{{#str}}createreadseedschool, local_oneroster{{/str}}</button>
    </div>
</div>

<div id="tbl-classes" class="row mt-3">
    {{> local_oneroster/classes}}
</div>

<div class="row mt-3">
    <div class="col-md-11 offset-md-1">
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="level1" name="level[]" value="1" autocomplete="off">
            <label class="form-check-label" for="level1">{{#str}}level, local_oneroster, 1{{/str}}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="level2" name="level[]" value="2" autocomplete="off">
            <label class="form-check-label" for="level2">{{#str}}level, local_oneroster, 2{{/str}}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="level3" name="level[]" value="3" autocomplete="off">
            <label class="form-check-label" for="level3">{{#str}}level, local_oneroster, 3{{/str}}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="level4" name="level[]" value="4" autocomplete="off">
            <label class="form-check-label" for="level4">{{#str}}level, local_oneroster, 4{{/str}}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="level5" name="level[]" value="5" autocomplete="off">
            <label class="form-check-label" for="level5">{{#str}}level, local_oneroster, 5{{/str}}</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="level6" name="level[]" value="6" autocomplete="off">
            <label class="form-check-label" for="level6">{{#str}}level, local_oneroster, 6{{/str}}</label>
        </div>
    </div>
</div>

<div class="row mt-5 mb-3">
    <div class="col-md-11 offset-md-1">
        <button type="button" id="btn-enrol-classes" class="btn btn-primary btn-action btn-enrol" data-unenrol = "0" {{^schoolcreated}}disabled="disabled"{{/schoolcreated}}>{{#str}}enrolclasses, local_oneroster{{/str}}</button>
        <button type="button" id="btn-unenrol-classes" class="btn btn-primary btn-action btn-enrol" data-unenrol = "1" {{^schoolcreated}}disabled="disabled"{{/schoolcreated}}>{{#str}}unenrolclasses, local_oneroster{{/str}}</button>
        <button type="button" id="btn-sync-members" class="btn btn-primary btn-action" {{^schoolcreated}}disabled="disabled"{{/schoolcreated}}>{{#str}}syncmembers, local_oneroster{{/str}}</button>
    </div>
</div>
{{#js}}
    require(['jquery'], function($) {
        $("#tbl-classes").on("click", "input[name='checkall']", function(e) {
            if (this.checked) {
                $('input[name="classes[]"]').each(function() {
                    this.checked = true;
                });
            } else {
                $('input[name="classes[]"]').each(function() {
                    this.checked = false;
                });
            }
        });
    });
{{/js}}